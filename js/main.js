(function(){var i,n,t;n=function(){function i(i){this.$rootEl=i,this.render(),this.ui(),this.bindEvents()}return i.prototype.render=function(){return this.$rootEl.append("<section id='auth' style='display:none;'>\n  <p>Welcome to <strong>RSS.rocks</strong>!</p>\n\n  <div id='signup' style='display:none;'>\n      <form id='signup_form'>\n          <input id='signup_email' value='' placeholder='email' type='email'>\n          <input id='signup_password' value='' placeholder='password' type='password'>\n          <input id='signup_submit' value='signup' type='submit'>\n      </form>\n    <p id='signup_error' class='error'></p>\n      <p>— if you have an account, please <a id='signup_login_btn' href='#'>login</a></p>\n  </div>\n\n  <div id='login'>\n    <form id='login_form'>\n        <input id='login_email' value='' placeholder='email' type='email'>\n        <input id='login_password' value='' placeholder='password' type='password'>\n        <input id='login_submit' value='login' type='submit'>\n    </form>\n    <p id='login_error' class='error'></p>\n    <p>— if you don't have an account, please <a id='login_signup_btn' href='#'>signup</a><br>\n    — if you forgot your password, <a id='login_reset_password' href='#'>reset</a> it via an email\n    </p>\n  </div>\n</section>")},i.prototype.ui=function(){return this.$el=$("#auth"),this.$loginBtn=$("#signup_login_btn"),this.$signupBtn=$("#login_signup_btn"),this.$loginView=$("#login"),this.$signupView=$("#signup"),this.$loginForm=$("#login_form"),this.$signupForm=$("#signup_form"),this.$loginEmail=$("#login_email"),this.$loginPass=$("#login_password"),this.$signupEmail=$("#signup_email"),this.$signupPass=$("#signup_password"),this.$loginError=$("#login_error"),this.$signupError=$("#signup_error")},i.prototype.bindEvents=function(){return this.$loginBtn.on("click",function(i){return function(n){return i.showLogin(),!1}}(this)),this.$signupBtn.on("click",function(i){return function(n){return i.showSignup(),!1}}(this)),this.$signupForm.on("submit",function(i){return function(n){return i.signup(),!1}}(this)),this.$loginForm.on("submit",function(i){return function(n){return i.login(),!1}}(this))},i.prototype.showLogin=function(){return this.$loginView.show(),this.$signupView.hide(),this.$loginError.html("")},i.prototype.showSignup=function(){return this.$signupView.show(),this.$loginView.hide(),this.$signupError.html("")},i.prototype.login=function(){var i,n;return i=this.$loginEmail.val(),n=this.$loginPass.val(),app.firebaseAuth.login("password",{email:i,password:n,rememberMe:!0})},i.prototype.signup=function(){var i,n;return i=this.$signupEmail.val(),n=this.$signupPass.val(),app.firebaseAuth.createUser(i,n,function(i){return function(n,t){var e;return n?(e=n.message.replace("FirebaseSimpleLogin: ",""),i.error(e)):(i.close(),app.dashView.open(t))}}(this))},i.prototype.error=function(i){return this.$signupError.html(i),this.$loginError.html(i)},i.prototype.open=function(){return this.$signupError.html(""),this.$loginError.html(""),this.$el.show()},i.prototype.close=function(){return this.$el.hide()},i}(),t=function(){function i(i){this.$rootEl=i,this.render(),this.ui(),this.bindEvents()}return i.prototype.render=function(){return this.$rootEl.append("<section id='dash' style='display:none;'>\n  <p><span id='dash_email'></span> — <a id='dash_logout_btn' href='#'>logout</a></p>\n</section>")},i.prototype.ui=function(){return this.$el=$("#dash"),this.$email=$("#dash_email"),this.$logoutBtn=$("#dash_logout_btn")},i.prototype.bindEvents=function(){return this.$logoutBtn.on("click",function(i){return function(n){return i.logout(),!1}}(this))},i.prototype.logout=function(){return app.firebaseAuth.logout(),this.close(),app.authView.open(),app.authView.showLogin()},i.prototype.open=function(i){return this.user=i,this.$email.html(this.user.email),this.$el.show()},i.prototype.close=function(){return this.$el.hide()},i}(),i=function(){function i(i){this.firebaseAppName=i,this.firebase=new Firebase("https://"+this.firebaseAppName+".firebaseio.com"),this.ui(),this.render(),this.authenticate()}return i.prototype.ui=function(){return this.$el=$("#app")},i.prototype.render=function(){return this.dashView=new t(this.$el),this.authView=new n(this.$el)},i.prototype.authenticate=function(){return this.firebaseAuth=new FirebaseSimpleLogin(this.firebase,function(i){return function(n,t){var e;return t?(i.authView.close(),i.dashView.open(t)):(i.dashView.close(),i.authView.open()),n?(e=n.message.replace("FirebaseSimpleLogin: ",""),i.authView.error(e)):void 0}}(this))},i}(),$(function(){var n;return n="sizzling-fire-6443",window.app=new i(n)})}).call(this);
//# sourceMappingURL=./main.map