(function(){var i,t,n;t=function(){function i(){this.ui(),this.bindEvents()}return i.prototype.ui=function(){return this.$el=$("#auth"),this.$loginBtn=$("#signup_login_btn"),this.$signupBtn=$("#login_signup_btn"),this.$loginView=$("#login"),this.$signupView=$("#signup"),this.$loginForm=$("#login_form"),this.$signupForm=$("#signup_form"),this.$loginEmail=$("#login_email"),this.$loginPass=$("#login_password"),this.$signupEmail=$("#signup_email"),this.$signupPass=$("#signup_password"),this.$loginError=$("#login_error"),this.$signupError=$("#signup_error")},i.prototype.bindEvents=function(){return this.$loginBtn.on("click",function(i){return function(t){return i.showLogin(),!1}}(this)),this.$signupBtn.on("click",function(i){return function(t){return i.showSignup(),!1}}(this)),this.$signupForm.on("submit",function(i){return function(t){return i.signup(),!1}}(this)),this.$loginForm.on("submit",function(i){return function(t){return i.login(),!1}}(this))},i.prototype.showLogin=function(){return this.$loginView.show(),this.$signupView.hide(),this.$loginError.html("")},i.prototype.showSignup=function(){return this.$signupView.show(),this.$loginView.hide(),this.$signupError.html("")},i.prototype.login=function(){var i,t;return i=this.$loginEmail.val(),t=this.$loginPass.val(),app.firebaseAuth.login("password",{email:i,password:t,rememberMe:!0})},i.prototype.signup=function(){var i,t;return i=this.$signupEmail.val(),t=this.$signupPass.val(),app.firebaseAuth.createUser(i,t,function(i){return function(t,n){var e;return t?(e=t.message.replace("FirebaseSimpleLogin: ",""),i.error(e)):(i.close(),app.dashView.open(n))}}(this))},i.prototype.error=function(i){return this.$signupError.html(i),this.$loginError.html(i)},i.prototype.open=function(){return this.$signupError.html(""),this.$loginError.html(""),this.$el.show()},i.prototype.close=function(){return this.$el.hide()},i}(),n=function(){function i(){this.ui(),this.bindEvents()}return i.prototype.ui=function(){return this.$el=$("#dash"),this.$email=$("#dash_email"),this.$logoutBtn=$("#dash_logout_btn")},i.prototype.bindEvents=function(){return this.$logoutBtn.on("click",function(i){return function(t){return i.logout(),!1}}(this))},i.prototype.logout=function(){return app.firebaseAuth.logout(),this.close(),app.authView.open(),app.authView.showLogin()},i.prototype.open=function(i){return this.user=i,this.$email.html(this.user.email),this.$el.show()},i.prototype.close=function(){return this.$el.hide()},i}(),i=function(){function i(i){this.firebaseAppName=i,this.firebase=new Firebase("https://"+this.firebaseAppName+".firebaseio.com"),this.createViews(),this.authenticate()}return i.prototype.createViews=function(){return this.dashView=new n,this.authView=new t},i.prototype.authenticate=function(){return this.firebaseAuth=new FirebaseSimpleLogin(this.firebase,function(i){return function(t,n){var e;return n?(i.authView.close(),i.dashView.open(n)):(i.dashView.close(),i.authView.open()),t?(e=t.message.replace("FirebaseSimpleLogin: ",""),i.authView.error(e)):void 0}}(this))},i}(),$(function(){var t;return t="sizzling-fire-6443",window.app=new i(t)})}).call(this);
//# sourceMappingURL=./main.map